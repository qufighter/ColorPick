/*
 * This file is a part of the Show Pixel Color project.
 *
 */

window.Cr={elm:function(a,b,c,d){var e=document.createElement(a),i,l;if(b){if(b.event||b.events){var f=b.event||b.events;if(typeof(f[0])=='string')e.addEventListener(f[0],f[1],f[2]);else if(f.length)for(i=0,l=f.length;i<l;i++)e.addEventListener(f[i][0],f[i][1],f[i][2])}}for(i in b){if(i.substring(0,5)=='event'){}else if(i=='checked'||i=='selected'){if(b[i])e.setAttribute(i,i)}else e.setAttribute(i,b[i])}if(c){for(i=0,l=c.length;i<l;i++){if(c[i])e.appendChild(c[i])}}if(d){this.insertNode(e,d)}return e},txt:function(a){return document.createTextNode(a)},ent:function(a){return document.createTextNode(this.unescapeHtml(a))},paragraphs:function(a){var b=a.split("\n");var c=[];for(var i=0,l=b.length;i<l;i++){c.push(Cr.elm('p',{},[Cr.ent(b[i])]))}return c},insertNode:function(a,b,c){if(!b)b=document.body;if(c&&c.parentNode==b){b.insertBefore(a,c)}else{b.appendChild(a)}},insertNodes:function(a,b,c){if(typeof(a)!='array')this.insertNode(a,b,c);else{for(var i=0,l=a.length;i<l;i++){this.insertNode(a[i],b,c,true)}}},empty:function(a){while(a.lastChild)a.removeChild(a.lastChild)},unescapeHtml:function(a){if(a.length<1)return a;var b=document.createElement("div");a=a.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gmi,'');b.innerHTML=a;var c=b.childNodes[0].nodeValue;this.empty(b);return c}}